# IM Chat 文档索引

欢迎访问 IM Chat 项目文档中心！这里包含了完整的项目说明和API接口文档。

## 📚 文档列表

### 1. [项目说明文档](./项目说明文档.md)

完整的项目架构说明和各子项目的详细介绍。

**包含内容：**
- 项目概述
- 技术架构
- 子项目详细说明
  - im_chat_server (IM聊天核心服务端)
  - im_chat_backstage (后台管理系统)
  - im_chat_backstage_ui (管理后台前端)
  - im_chat_web (Web聊天客户端)
  - im_chat_uniapp (移动端应用)
  - im-red-package (红包服务)
  - im-webview-group-rtc (群组音视频)
  - im-webview-private-rtc (私聊音视频)
- 系统架构设计
- 开发指南
- 部署指南

### 2. [API接口文档](./API接口文档.md)

完整的后端API接口说明文档。

**包含内容：**
- im_chat_server API
  - 用户相关接口
  - 好友相关接口
  - 群聊相关接口
  - 私聊消息接口
  - 群聊消息接口
  - 音视频通话接口
  - 红包相关接口
  - 文件相关接口
  - 系统相关接口
- im_chat_backstage API
  - 用户管理接口
  - 群组管理接口
  - 敏感词管理接口
- im-red-package API
  - 红包服务接口
- WebSocket消息协议
- 通用说明和规范

## 🏗️ 项目架构

```
┌─────────────────────────────────────────────────────────────────┐
│                          客户端层                                 │
├──────────────┬──────────────┬──────────────┬────────────────────┤
│  Web客户端    │  移动端应用    │  管理后台UI   │  音视频WebView     │
│  (Vue 2)     │  (uni-app)   │  (Vue 3)    │  (Vue 2)          │
└──────┬───────┴──────┬───────┴──────┬───────┴────────┬───────────┘
       │              │              │                │
       │ HTTP/WS      │ HTTP/WS      │ HTTP           │ WebRTC
       │              │              │                │
┌──────┴──────────────┴──────────────┴────────────────┴───────────┐
│                         服务端层                                  │
├──────────────┬──────────────────────┬──────────────────────────┤
│  IM服务器     │  后台管理系统          │  红包服务                 │
│  (Java 17)   │  (Java 21)           │  (Java 8)                │
└──────┬───────┴──────────┬───────────┴──────────┬───────────────┘
       │                  │                       │
┌──────┴──────────────────┴───────────────────────┴───────────────┐
│                         数据层                                    │
├──────────────┬──────────────────────┬──────────────────────────┤
│   MySQL      │      Redis           │       MinIO              │
│  (关系数据库) │    (缓存/消息队列)     │    (文件存储)             │
└──────────────┴──────────────────────┴──────────────────────────┘
```

## 🚀 快速开始

### 环境准备

**后端环境：**
- JDK 8/17/21（根据具体模块）
- Maven 3.6+
- MySQL 8.0+
- Redis 6.0+

**前端环境：**
- Node.js 16+
- npm 或 yarn

### 启动步骤

1. **启动数据库服务**
   ```bash
   # 启动MySQL和Redis
   mysql.server start
   redis-server
   ```

2. **启动后端服务**
   ```bash
   # IM服务器
   cd im_chat_server && mvn spring-boot:run
   
   # 后台管理系统
   cd im_chat_backstage && mvn spring-boot:run
   
   # 红包服务
   cd im-red-package && mvn spring-boot:run
   ```

3. **启动前端服务**
   ```bash
   # Web客户端
   cd im_chat_web && npm run serve
   
   # 管理后台
   cd im_chat_backstage_ui && npm run dev
   ```

4. **访问应用**
   - Web客户端: http://localhost:8082
   - 管理后台: http://localhost:8083
   - API文档: http://localhost:8080/doc.html

## 📋 核心功能特性

### 即时通讯
- ✅ 单聊/群聊
- ✅ 文本/图片/语音/视频消息
- ✅ 消息撤回
- ✅ 离线消息推送
- ✅ 消息已读回执
- ✅ @提醒功能

### 好友与群组
- ✅ 好友申请/同意/拒绝
- ✅ 好友备注
- ✅ 黑名单管理
- ✅ 创建/解散群组
- ✅ 邀请/移除成员
- ✅ 群管理员设置
- ✅ 群禁言功能

### 音视频通话
- ✅ 一对一音视频通话
- ✅ 多人视频会议
- ✅ 通话邀请/接受/拒绝
- ✅ 通话中切换摄像头
- ✅ 静音/关闭视频

### 红包功能
- ✅ 发普通红包
- ✅ 发拼手气红包
- ✅ 群红包/私聊红包
- ✅ 高并发抢红包
- ✅ 红包记录查询

### 后台管理
- ✅ 用户管理（封禁/解封）
- ✅ 群组管理
- ✅ 消息监控
- ✅ 敏感词过滤
- ✅ 投诉举报处理
- ✅ 充值提现审核
- ✅ 数据统计分析

## 🔧 技术栈

### 后端技术
- **框架：** Spring Boot 3.x
- **数据库：** MySQL 8.0 + MyBatis Plus
- **缓存：** Redis + Redisson
- **WebSocket：** Netty
- **文件存储：** MinIO
- **API文档：** Knife4j/SpringDoc
- **认证：** JWT + Sa-Token

### 前端技术
- **Web框架：** Vue 2/3
- **UI组件库：** Element UI/Plus, Vant
- **状态管理：** Vuex/Pinia
- **HTTP客户端：** Axios
- **构建工具：** Webpack/Vite
- **移动端：** uni-app
- **桌面端：** Electron

### DevOps
- **容器化：** Docker
- **CI/CD：** GitLab CI
- **监控：** Spring Boot Admin
- **日志：** Logback + ELK

## 📖 开发指南

### 代码规范
- 后端遵循阿里巴巴Java开发手册
- 前端使用ESLint + Prettier
- 统一的代码风格和命名规范

### Git提交规范
```
feat: 新功能
fix: 修复bug
docs: 文档更新
style: 代码格式调整
refactor: 重构
test: 测试相关
chore: 构建/工具链相关
```

### 分支管理
- `main`: 主分支，生产环境
- `develop`: 开发分支
- `feature/*`: 功能分支
- `hotfix/*`: 紧急修复分支

## 🔐 安全说明

### 认证与授权
- JWT Token认证机制
- Token自动刷新
- 密码加密存储（BCrypt）
- API接口防重复提交

### 数据安全
- SQL注入防护
- XSS攻击防护
- CSRF防护
- 敏感信息脱敏
- 数据库加密存储

### 通信安全
- HTTPS传输加密
- WebSocket安全连接
- 文件上传类型限制
- 接口访问限流

## 📊 性能优化

### 后端优化
- Redis缓存热点数据
- 数据库查询优化
- 异步消息处理
- 连接池管理
- 分布式锁

### 前端优化
- 路由懒加载
- 图片懒加载
- 防抖与节流
- 虚拟滚动
- CDN加速

### 数据库优化
- 合理的索引设计
- 读写分离
- 分库分表
- 慢查询优化

## 🐛 问题排查

### 常见问题

1. **WebSocket连接失败**
   - 检查服务端是否启动
   - 检查Token是否有效
   - 检查网络连接
   - 查看浏览器控制台错误

2. **消息发送失败**
   - 检查WebSocket连接状态
   - 验证消息格式
   - 检查用户权限

3. **音视频通话无法连接**
   - 检查浏览器权限设置
   - 确认WebRTC支持
   - 检查网络NAT类型
   - 查看STUN/TURN服务器配置

4. **红包抢不到**
   - 检查余额是否充足
   - 确认是否已抢过
   - 查看红包是否已抢完

### 日志查看

**后端日志：**
```bash
# IM服务器日志
tail -f im_chat_server/logs/application.log

# 后台管理日志
tail -f im_chat_backstage/logs/application.log
```

**前端调试：**
- 开发环境：浏览器开发者工具
- 移动端：VConsole调试工具

## 🤝 贡献指南

欢迎提交Issue和Pull Request！

### 提交Issue
- 清晰描述问题
- 提供复现步骤
- 附带截图或日志

### 提交PR
- Fork项目到自己的仓库
- 创建功能分支
- 编写清晰的提交信息
- 确保代码通过测试
- 提交Pull Request

## 📞 联系方式

如有任何问题，欢迎通过以下方式联系：

- 提交Issue
- 发送邮件
- 加入技术交流群

## 📄 许可证

本项目采用 MIT 许可证。

---

**文档版本：** v3.0.0  
**最后更新：** 2024-11-12  
**维护团队：** IM Chat Development Team

---

## 📝 更新日志

### v3.0.0 (2024-11-12)
- ✨ 完整的项目说明文档
- ✨ 详细的API接口文档
- 📚 文档索引页面
- 🎨 架构图和流程图
- 📖 开发和部署指南

---

**返回顶部** ⬆️
